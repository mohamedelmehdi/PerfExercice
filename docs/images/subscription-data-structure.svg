<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 800 400">
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="0" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- List Container -->
  <rect x="10" y="10" width="780" height="380" fill="#f0f0f0" stroke="#333" stroke-width="2" />
  <text x="20" y="40" font-family="Arial, sans-serif" font-size="16" fill="#333">List&lt;(string ClientId, Dictionary&lt;string, PatternNode&gt; MessageDict)&gt; _subscriptions</text>
  
  <!-- Client 1 -->
  <rect x="30" y="70" width="220" height="140" fill="#e6f3ff" stroke="#333" stroke-width="2" />
  <text x="40" y="90" font-family="Arial, sans-serif" font-size="14" fill="#333">Client 1</text>
  <rect x="40" y="100" width="200" height="100" fill="#cce6ff" stroke="#333" stroke-width="1" />
  <text x="50" y="120" font-family="Arial, sans-serif" font-size="12" fill="#333">Dictionary&lt;string, PatternNode&gt;</text>
  
  <!-- Message Types for Client 1 -->
  <rect x="50" y="130" width="80" height="60" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="60" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">MessageType1</text>
  <path d="M140 160 Q170 160 200 140" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <text x="150" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">PatternNode</text>
  
  <!-- Client 2 -->
  <rect x="280" y="70" width="220" height="140" fill="#e6f3ff" stroke="#333" stroke-width="2" />
  <text x="290" y="90" font-family="Arial, sans-serif" font-size="14" fill="#333">Client 2</text>
  <rect x="290" y="100" width="200" height="100" fill="#cce6ff" stroke="#333" stroke-width="1" />
  <text x="300" y="120" font-family="Arial, sans-serif" font-size="12" fill="#333">Dictionary&lt;string, PatternNode&gt;</text>
  
  <!-- Message Types for Client 2 -->
  <rect x="300" y="130" width="80" height="60" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="310" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">MessageType2</text>
  <path d="M390 160 Q420 160 450 140" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <text x="400" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">PatternNode</text>
  
  <!-- Client N -->
  <rect x="530" y="70" width="220" height="140" fill="#e6f3ff" stroke="#333" stroke-width="2" />
  <text x="540" y="90" font-family="Arial, sans-serif" font-size="14" fill="#333">Client N</text>
  <rect x="540" y="100" width="200" height="100" fill="#cce6ff" stroke="#333" stroke-width="1" />
  <text x="550" y="120" font-family="Arial, sans-serif" font-size="12" fill="#333">Dictionary&lt;string, PatternNode&gt;</text>
  
  <!-- Message Types for Client N -->
  <rect x="550" y="130" width="80" height="60" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="560" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">MessageTypeN</text>
  <path d="M640 160 Q670 160 700 140" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <text x="650" y="150" font-family="Arial, sans-serif" font-size="10" fill="#333">PatternNode</text>
  
  <!-- Pattern Tree Representation -->
  <rect x="30" y="240" width="740" height="140" fill="#f9f9f9" stroke="#333" stroke-width="2" />
  <text x="40" y="260" font-family="Arial, sans-serif" font-size="14" fill="#333">PatternNode (Tree Structure)</text>
  
  <!-- Tree Nodes -->
  <circle cx="100" cy="300" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="95" y="305" font-family="Arial, sans-serif" font-size="12" fill="#333">Root</text>
  
  <circle cx="200" cy="280" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="195" y="285" font-family="Arial, sans-serif" font-size="12" fill="#333">A</text>
  
  <circle cx="200" cy="320" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="195" y="325" font-family="Arial, sans-serif" font-size="12" fill="#333">B</text>
  
  <circle cx="300" cy="260" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="295" y="265" font-family="Arial, sans-serif" font-size="12" fill="#333">C</text>
  
  <circle cx="300" cy="300" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="295" y="305" font-family="Arial, sans-serif" font-size="12" fill="#333">D</text>
  
  <circle cx="300" cy="340" r="20" fill="#b3d9ff" stroke="#333" stroke-width="1" />
  <text x="295" y="345" font-family="Arial, sans-serif" font-size="12" fill="#333">E</text>
  
  <!-- Tree Connections -->
  <line x1="120" y1="300" x2="180" y2="280" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <line x1="120" y1="300" x2="180" y2="320" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <line x1="220" y1="280" x2="280" y2="260" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <line x1="220" y1="280" x2="280" y2="300" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
  <line x1="220" y1="320" x2="280" y2="340" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)" />
</svg>
